<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        function random () {
            return Math.floor(Math.random() * 3);
        }
        function getComputerChoice() {
            let randNum = random();
            let computerChoice = randNum === 0 ? "rock" : 
            randNum === 1 ? "paper" : "scissors";
            return computerChoice
        }
        function getHumanChoice() {
            let humanChoice = prompt("Choose a rock, paper or scissors", "").toLowerCase()
            return humanChoice
        }
        function capitalize(str) {
            result = str[0].toUpperCase() + str.slice(1).toLowerCase()
            return result
        }
        computerScore = 0
        humanScore = 0
        function playRound () {
            let computerChoice = getComputerChoice()
            let humanChoice = getHumanChoice()
            console.log("Your choice: " + capitalize(humanChoice))
            console.log("Computer choice: " + capitalize(computerChoice))
            if (humanChoice !== "rock" & humanChoice !== "paper" & humanChoice !== "scissors") 
            {
                console.log("Invalid input")
                return 
            }
            else 
            {
                if ((humanChoice === "rock" && computerChoice === "paper") 
                || (humanChoice === "paper" && computerChoice === "scissors") 
                || (humanChoice === "scissors" && computerChoice === "rock"))
                {
                    console.log(`You lose! ${capitalize(computerChoice)} beats ${capitalize(humanChoice)}`);
                    computerScore += 1;
                }
                else if (humanChoice === computerChoice)
                {
                    console.log("Draw")
                }
                else 
                {
                    console.log(`You win! ${capitalize(humanChoice)} beats ${capitalize(computerChoice)}`);
                    humanScore += 1;
                }
                console.log("Human score: " + humanScore)
                console.log("Computer score: " + computerScore)
            }
        }
        
        function playGame (n) {
            for (let i = 0; i < n; i++)
            {
                playRound()
            }
            if (humanScore > computerScore) 
            {
                console.log("You win!")
            }
            else if (humanScore === computerScore)
            {
                console.log("It's a draw!")
            }
            else
            {
                console.log("You lose!")
            }
            computerScore = 0
            humanScore = 0
        }
        playGame(5)

    </script>
</body>
</html>